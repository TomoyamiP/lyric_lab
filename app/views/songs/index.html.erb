<div class="container mt-4 d-flex justify-content-center">
  <div class="col-md-8 col-lg-6">
    <h1 class="text-center mb-4 title-banner">Songs</h1>
    <div class="text-center mb-3">
      <%= link_to "Create a Song", new_song_path, class: "btn btn-flat" %>
      <div class="d-flex justify-content-center mt-3 mb-3 gap-2">
        <%= link_to "Sort by Date", songs_path(sort: "date", direction: params[:direction] == "asc" ? "desc" : "asc"), class: "btn btn-outline-light" %>
        <%= link_to "Sort Alphabetically", songs_path(sort: "alpha", direction: params[:direction] == "asc" ? "desc" : "asc"), class: "btn btn-outline-light" %>
      </div>
    </div>
    <% if @songs.any? %>
      <ul class="list-group mb-4" data-controller="share">
        <% @songs.each do |song| %>
          <li class="list-group-item bg-dark text-white d-flex align-items-center justify-content-between">
            <span>
              <%= link_to song.title, song_path(song), class: "link-light text-decoration-none" %>
              <small class="ms-2" style="color: #bbb;">
                <%= song.created_at.strftime("%b %d, %Y") %>
              </small>
            </span>
            <div class="d-flex gap-3">
              <%= link_to "Edit", edit_song_path(song), class: "btn btn-flat" %>
              <button class="btn btn-secondary"
                data-action="click->share#share"
                data-song-id="<%= song.id %>"
                data-title="<%= song.title %>">
                Share
              </button>
              <%= link_to "Delete", song_path(song),
                data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete?" },
                class: "btn btn-danger" %>
            </div>
          </li>
        <% end %>
      </ul>
    <% else %>
      <div class="alert alert-secondary text-center">
        No songs yet.
      </div>
    <% end %>
  </div>
</div>
